<br>
<div class="container">
	<h6 class="slim-pagetitle">
		<span>Pool Workers</span>
	</h6>
 </div>
<br>
<div class="container pl-0 pr-3 pb-0 pt-0">	
	{{ for(var pool in it.stats.pools) { }}
			<br>
			<table id="workerTable" class="table table-bordered table-hover shadow" style="width: 100%">
				<thead>
					<tr>
						<th><span class="tx-mov-mic"><center>Address</center></span></th>
						<th><span class="tx-mov-mic"><center>Share Rate</center></span></th>
						<th><span class="tx-mov-mic"><center>Invalid shares</center></span></th>
						<th><span class="tx-mov-mic"><center>Efficiency</center></span></th>
						<th><span class="tx-mov-mic"><center>Hashrate</center></span></th>
					</tr>
				</thead>
				{{ for(var worker in it.stats.pools[pool].workers) { }}
					{{ let workerInfo = worker.split('.'); }}
					{{ if (workerInfo.length === 2) { }}
						{{ let worker = workerInfo[0]; }}
					{{ } }}
					{{var workerstat = it.stats.pools[pool].workers[worker];}}
					<tbody>
						<tr>
							<td><a href="/workers/{{=worker}}">{{=worker}}</a></td>
							<td>{{=Math.floor(workerstat.shares)}}</td>
							<td>{{=Math.floor(workerstat.invalidshares)}}</td>
							<td>{{? workerstat.shares > 0}} {{=Math.floor(10000 * workerstat.shares / (workerstat.shares + workerstat.invalidshares)) / 100}}% {{??}} 0% {{?}}</td>
							<td>{{=workerstat.hashrateString}}</td>
						</tr>
					</tbody>
				{{ } }}
			</table>
	{{ } }}
</div>

<script>
var dataTable = $("#workerTable").DataTable({
	"bFilter": false,
	"bInfo": false,
	"bLengthChange": false,
	"columnDefs": [
		{ "type": "natural", "targets": 0 },
		{ "type": "natural", "targets": 1 },
		{ "type": "natural", "targets": 2 },
		{ "type": "natural", "targets": 3 },
		{ "type": "natural", "targets": 4 }
	],
	"order": [[ 4, "desc" ]],
	"pageLength": 25
});
</script>